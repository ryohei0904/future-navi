<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔮 プレミアム未来診断</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #0d1117;
            color: #fff;
            text-align: center;
            padding: 20px;
        }
        .container {
            max-width: 700px;
            margin: auto;
            background: #161b22;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 20px rgba(0, 255, 255, 0.5);
        }
        .future-section {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
        }
        h2 {
            color: #00ccff;
        }
        .advice {
            font-style: italic;
            color: #ffcc00;
        }
        .back-button, .unlock-button {
            background: #ffcc00;
            color: #000;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        .back-button:hover, .unlock-button:hover {
            background: #ff9900;
        }
        .locked-content {
            filter: blur(5px); /* 🔹 モザイク（ぼかし）を適用 */
            pointer-events: none;
            user-select: none;
            transition: filter 0.5s ease-in-out;
        }
        .unlocked {
            filter: none;
            pointer-events: auto;
            user-select: auto;
        }
        .unlock-message {
            display: none;
            margin-top: 10px;
            color: #ffcc00;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔮 プレミアム未来診断</h1>
        <p>詳細な未来診断はプレミアムユーザー限定です！</p>
        <p id="dob-display"></p>

        <div id="premium-content" class="locked-content">
            <div class="future-section">
                <h2>🌟 理想の未来</h2>
                <p>あなたは夢を叶え、理想的な環境で活躍しています。充実した日々を送り、周囲からも尊敬される存在になっています。</p>
            </div>
            
            <div class="future-section">
                <h2>⚖ 普通の未来</h2>
                <p>あなたの未来は安定していますが、特に大きな変化はありません。自分次第で大きく成長できる可能性があります。</p>
            </div>
            
            <div class="future-section">
                <h2>💥 予想外の未来</h2>
                <p>あなたの未来には大きな転機が待っています。ピンチをチャンスに変えることで、新しい道が開かれるでしょう。</p>
            </div>
        </div>

        <!-- 🔹 500円ボタン（モザイク解除） -->
        <button id="unlock-button" onclick="unlockPremiumContent()">🔓 500円で詳細を開放する</button>
　　　　　<p>🔑 未来診断をもっと知りたい？</p>
　　　　　<button class="subscribe-button" onclick="location.href='pricing.html'">💎 プレミアムプランに登録する</button>
       <p id="free-access-message">🔓 決済準備中です！現在は無料で開放中！</p>

        <button class="back-button" onclick="goBackWithParams()">🔙 診断結果に戻る</button>
        <button class="back-button" onclick="goToHome()">🏠 診断トップへ戻る</button>
    </div>

<script>
    window.onload = function() {
        const params = new URLSearchParams(window.location.search);
        let birthdate = params.get("dob");

        if (birthdate) {
            document.getElementById("dob-display").innerText = `あなたの生年月日: ${birthdate}`;
        }
    };

    function unlockContent() {
        let premiumContent = document.getElementById("premium-content");
        let unlockMessage = document.getElementById("unlock-message");

        if (premiumContent) {
            premiumContent.classList.add("unlocked"); // 🔓 モザイク解除
        } else {
            console.error("❌ Error: premium-content の ID が見つかりません！");
        }

        if (unlockMessage) {
            unlockMessage.style.display = "block"; // 🔔 メッセージ表示
        } else {
            console.error("❌ Error: unlock-message の ID が見つかりません！");
        }
    }

    function goBackWithParams() {
        const params = new URLSearchParams(window.location.search);
        const birthdate = params.get("dob");

        if (birthdate) {
            window.location.href = `diagnosis_result.html?dob=${birthdate}`;
        } else {
            window.location.href = "diagnosis_result.html";
        }
    }

    function goToHome() {
        window.location.href = "index.html"; // 診断トップへ戻る
    }
    function unlockPremiumContent() {
    document.getElementById("premium-content").style.filter = "none"; // モザイク解除
    document.getElementById("unlock-button").style.display = "none"; // 500円ボタンを非表示
    document.getElementById("free-access-message").style.display = "none"; // 決済準備中メッセージを非表示
}
</script>
</body>
</html>
