<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>未来診断</title>
    <style>
        body {
            background-color: black;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            color: white;
            font-family: Arial, sans-serif;
        }

        .circle {
            position: absolute;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, cyan, transparent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 1.5s ease-in-out, opacity 1s ease-in-out;
        }

        .circle.shrink {
            transform: scale(10);
            opacity: 0;
        }

        .light {
            position: absolute;
            width: 8px;
            height: 8px;
            background: cyan;
            border-radius: 50%;
            animation: orbit 4s linear infinite;
        }

        @keyframes orbit {
            0% { transform: rotate(0deg) translateX(90px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(90px) rotate(-360deg); }
        }

        .hidden {
            display: none;
        }
        
        .fade-out {
            animation: fadeOut 1.5s forwards;
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
    </style>
</head>
<body>

    <h1 class="title">🔮 未来診断</h1>
    <p class="subtitle">あなたの生年月日を入力してください</p>
    
    <div class="circle" id="diagnosisCircle">
        <span class="button-text">診断を開始</span>
    </div>

    <input type="date" id="birthdate" class="hidden">

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const circle = document.getElementById("diagnosisCircle");
            const title = document.querySelector(".title");
            const subtitle = document.querySelector(".subtitle");
            const buttonText = document.querySelector(".button-text");

            // 光点の作成
            const numLights = 12;
            for (let i = 0; i < numLights; i++) {
                let light = document.createElement("div");
                light.className = "light";
                document.body.appendChild(light);

                let angle = (i / numLights) * Math.PI * 2;
                let x = 90 * Math.cos(angle);
                let y = 90 * Math.sin(angle);

                light.style.left = `calc(50% + ${x}px)`;
                light.style.top = `calc(50% + ${y}px)`;
                light.style.animationDelay = `${i * 0.2}s`;
            }

            // 診断ボタン押下時のアニメーション
            circle.addEventListener("click", function () {
                title.classList.add("fade-out");
                subtitle.classList.add("fade-out");
                buttonText.classList.add("fade-out");

                setTimeout(() => {
                    circle.classList.add("shrink");
                }, 500);

                setTimeout(() => {
                    window.location.href = "result.html"; // 遷移先を指定
                }, 2000);
            });
        });
    </script>

</body>
</html>
